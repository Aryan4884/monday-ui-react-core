import ThemeProvider from "../ThemeProvider";
import { ArgsTable, Story, Canvas, Meta } from "@storybook/addon-docs";
import { createStoryMetaSettingsDecorator } from "../../../storybook";
import {
  ThemeProviderFoldedThemingTemplate,
  ThemeProviderProductThemingTemplate,
  ThemeProviderTemplateOverview,
  ThemeProviderThemingScopeTemplate
} from "./ThemeProvider.stories";
import { SystemTheme, ThemeColor } from "../ThemeProviderConstants";
import { ColorsEligibleForTheming } from "./colors-eligible-for-theming";

export const metaSettings = createStoryMetaSettingsDecorator({
  component: ThemeProvider,
  enumPropNamesArray: [], // List enum props here
  iconPropNamesArray: [], // List props that are typed as icons here
  actionPropsArray: [] // List the component's actions here
});

<Meta
  title="Components/ThemeProvider"
  component={ThemeProvider}
  argTypes={metaSettings.argTypes}
  decorators={metaSettings.decorators}
/>

# ThemeProvider

<AlphaWarning />

- [Overview](#overview)
- [Props](#props)
- [Usage](#usage)
- [Variants](#variants)
- [Do’s and don’ts](#dos-and-donts)
- [Use cases and examples](#use-cases-and-examples)
- [Related components](#related-components)
- [Feedback](#feedback)

## Overview

This component helps to customize the colors of library's components by overriding a specific css variables with a values provided within theme object.
There are 2 levels of theming: **system theme** and **product theme**.
System theme is a one of a 4 predefined themes: <code>light</code>(<code>.light-app-theme</code>), <code>dark</code>(<code>.dark-app-theme</code>), <code>black</code>(<code>.black-app-theme</code>) and <code>hacker</code>(<code>.hacker_theme-app-theme</code>).
Product theme is a custom theme that can be provided by a user, there you can specify the values of specific color tokens for each of the system themes.

<Canvas>
  <Story
    name="Overview"
    args={{
      theme: {
        name: "overview-theme",
        colors: {
          [SystemTheme.LIGHT]: {
            [ThemeColor.primaryColor]: "green",
            [ThemeColor.primaryHoverColor]: "darkgreen"
          },
          [SystemTheme.DARK]: {
            [ThemeColor.primaryColor]: "red",
            [ThemeColor.primaryHoverColor]: "darkred"
          },
          black: {
            "primary-color": "orange",
            "primary-hover-color": "darkorange"
          },
          hacker: {
            "primary-color": "purple",
            "primary-hover-color": "darkmagenta"
          }
        }
      }
    }}
  >
    {ThemeProviderTemplateOverview.bind({})}
  </Story>
</Canvas>

## Props

<ArgsTable story="Overview" />

## Usage

<UsageGuidelines
  guidelines={[
    <>
      Control themes in your application by setting theme classes (e.g. <code>.light-app-theme</code>) on your{" "}
      <code>body</code> and render everything else inside it
    </>,
    <>
      In most common case <code>ThemeProvider</code> should be rendered only once on the root level of the application -
      below the <code>body</code>
    </>
  ]}
/>

<Tip title="Dev tip">
  Use <code>ThemeProvider.systemThemes</code> and <code>ThemeProvider.colors</code> enums to unleash the power of
  auto-completion
</Tip>

## Variants

There are four system themes <code>light</code>, <code>dark</code>, <code>black</code> and <code>hacker</code> and in each you can redefine the values of the following color tokens:

### Colors eligible for theming

<Story name="Colors eligible for theming">
  <ColorsEligibleForTheming />
</Story>

## Use cases and examples

### Theming scope

Only components wrapped with ThemeProvider will be affected by the theme.

<Canvas>
  <Story name="Theming scope">{ThemeProviderThemingScopeTemplate.bind({})}</Story>
</Canvas>

### Folded theming

If component is wrapped with multiple ThemeProviders, the most nested one will override the values of the outer one, but if the nested ThemeProvider doesn't provide a value for a specific color token, the outer ThemeProvider will be used.

<Canvas>
  <Story name="Folded theming">{ThemeProviderFoldedThemingTemplate.bind({})}</Story>
</Canvas>

### Product theming

These are theme-definitions, which are used in monday.com products.

<Canvas>
  <Story name="Product theming">{ThemeProviderProductThemingTemplate.bind({})}</Story>
</Canvas>
